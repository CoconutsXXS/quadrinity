<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="blue.css">
    <link rel="stylesheet" href="article.css">

    <!-- Titre -->
    <title>Quadrinity</title>
    <!-- Logo d'onglet -->
    <link rel="shortcut icon" href="Logo/Medium.png">
</head>

<img src="Logo/Medium.png" style="position : absolute; right: 2%; top: 225px; width: 30%;"></img>
<body>
    <section id="intro-paragraphe">
        <h1><strong>Le Premier Article</strong></h1>
        <h3>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Accusamus, impedit est officia obcaecati cumque ipsum atque eligendi ab repudiandae in, a consectetur cupiditate ex adipisci excepturi non, quas quasi sit.</h3>
        <h2>Qu'est ce que Ã§a veut dire ?</h2>
        <h3>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi laborum quae atque sequi aperiam, ab voluptas architecto ut, beatae fuga illo sed quisquam quam, incidunt recusandae. In ut quasi consectetur. Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi laborum quae atque sequi aperiam, ab voluptas architecto ut, beatae fuga illo sed quisquam quam, incidunt recusandae. In ut quasi consectetur.</h3>
        
        <section id="recomanded">
            <h2 style="position: absolute; margin-left: auto; margin-right: auto; left: 0; right: 0; text-align: center; top:-30px; width: 40%;">Autres Articles :</h2>

            <div class="productionlines" style="position: absolute; margin-left: auto; margin-right: auto; left: 0; right: 0; text-align: center; top:90px; height: 275px; width: 275px;">
                <a href="article.html">
                    <img src="Logo/Medium.png" style="height: 275px; width: 275px;"></image>
                    <h2 style="font-size:35px; max-width: 100%; top: -22.5px; position: absolute; width:260px; height:260px; left: 7.5px; right: 7.5px;">Le Premier Article !</h2>
                </a>
            </div>
            <div class="productionlines" style="position: absolute; margin-left: auto; margin-right: auto; left: 6%; top:90px; height: 275px; width: 275px;">
                <a href="article.html">
                    <img src="Logo/Medium.png" style="height: 275px; width: 275px;"></image>
                    <h2 style="font-size:35px; max-width: 100%; top: -22.5px; position: absolute; width:260px; height:260px; left: 7.5px; right: 7.5px;">Le Premier Article !</h2>
                </a>
            </div>
            <div class="productionlines" style="position: absolute; margin-left: auto; margin-right: auto; right: 6%; top:90px; height: 275px; width: 275px;">
                <a href="article.html">
                    <img src="Logo/Medium.png" style="height: 275px; width: 275px;"></image>
                    <h2 style="font-size:35px; max-width: 100%; top: -22.5px; text-align:right; position: absolute; width:260px; height:260px; left: 7.5px; right: 7.5px;">Le Premier Article !</h2>
                </a>
            </div>
        </section>
    </section>
</body>

<body>
    <div id='menue'>
        <img src="Logo/DiscordLogo.png" id="logo">
        <button onclick=window.location.href="index.html" class="favorite styled" style="left:  2%;" type="button" id="goButton">Accueil</button>
        <button onclick=window.location.href="news.html" class="favorite styled" style="left:  22%;" type="button" id="goButton">News</button>
        <button class="favorite styled" style="left: 44%;" type="button" id="goButton">Wumpus</button>
        <button class="favorite styled" style="right:  22%;" type="button" id="goButton">Blog</button>
        <button class="favorite styled" style="right:  2%;" type="button" id="goButton">Blog</button>

        <button class="favorite connect" type="button" id="name-connect">Coconuts XXS</button>
        <button href="your-oauth2-URL-here" class="favorite connect" type="button" id="connect"></button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() 
        {
            const menu = document.getElementById("menue");
            const connect = document.getElementById("connect");
            const connectName = document.getElementById("name-connect");
            window.addEventListener("scroll", function() 
            {
                if (window.scrollY > 110) {
                    menu.style.position = "fixed";
                    menu.style.top = "-115px";
                    menu.style.width = "100%";
                } else {
                    menu.style.position = "absolute";
                    menu.style.top = "0px";
                }
            });
            connect.addEventListener("mouseleave", function()
            {
                connectName.style.width = "100px";
                connectName.style.fontSize = "0px";
            });
            connect.addEventListener("mouseenter", function()
            {
                connectName.style.width = "500px";
                connectName.style.fontSize = "35px";
            });

            const express = require('express');
            const { port } = require('./config.json');

            const app = express();

            app.get('/', (request, response) => 
            {
                return response.sendFile('home.html', { root: '.' });
            });

            app.listen(port, () => console.log(`App listening at http://localhost:${port}`));

            window.onload = () => 
            {
                const fragment = new URLSearchParams(window.location.hash.slice(1));
                const [accessToken, tokenType] = [fragment.get('access_token'), fragment.get('token_type')];

                if(!accessToken) {return (connectName.innerText = '???'); }

                fetch('https://discord.com/api/users/@me', 
                {
                    headers: {
                        authorization: `${tokenType} ${accessToken}`,
                    },
                })
                .then(result => result.json())
                .then(response => 
                {
                    const { username, discriminator } = response;
                    connectName.innerText += ` ${username}#${discriminator}`;
                })
                .catch(console.error);
            };
        });
    </script>
</body>
</html>