<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="blue.css">
    <link rel="stylesheet" href="news.css">

    <!-- Titre -->
    <title>Quadrinity</title>
    <!-- Logo d'onglet -->
    <link rel="shortcut icon" href=".Logo/Medium.png">
</head>

<body>
    <section style="left: 30%; top: 150px; position : absolute;"><h1>Les Nouveaut√©s</h1></section>
    

    <!-- <a href="http://www.google.com">
        <img src="Logo/Medium.png" style="position : absolute; height: 90%; left:2%; top: 275px;"></img>
    </a> -->

    <div class="productionlines" style="position : absolute; width: 50%; left:2%; top: 325px;">
        <a href="article.html">
            <img src="Logo/Medium.png" style="position : absolute; width: 100%; left:0.5%;"></image>
            <h2 style="font-size:60px; max-width: 100%; position: absolute; top: -20px; left: 2.5%; width: 500px;">Le Premier Article !</h2>
            <h3 style="max-width: 100%; position: absolute; top: 75px; left: 2.5%; width: 500px;">Bonjour, je suis le premier article de Quadrinity, le site officiel !</h3>
        </a>
    </div>

    <div class="productionlines" style="position : absolute; width:20%; right:2%; top: 325px;">
        <a href="article.html">
            <img src="Logo/Medium.png" style="position : absolute; width: 100%; right:2%;"></image>
            <h2 style="font-size:35px; max-width: 100%; position: absolute; top: -20px; left: 2.5%; width: 500px;">Le Premier Article !</h2>
        </a>
    </div>
    <div class="productionlines" style="position : absolute; width:20%; right:24.5%; top: 325px;">
        <a href="article.html">
            <img src="Logo/Medium.png" style="position : absolute; width: 100%; right:2%;"></image>
            <h2 style="font-size:35px; max-width: 100%; position: absolute; top: -20px; left: 2.5%; width: 500px;">Le Premier Article !</h2>
        </a>
    </div>
    <div class="productionlines" style="position : absolute; width:20%; right:2%; top: 605px;">
        <a href="article.html">
            <img src="Logo/Medium.png" style="position : absolute; width: 100%; right:2%;"></image>
            <h2 style="font-size:35px; max-width: 100%; position: absolute; top: -20px; left: 2.5%; width: 500px;">Le Premier Article !</h2>
        </a>
    </div>
    <div class="productionlines" style="position : absolute; width:20%; right:24.5%; top: 605px;">
        <a href="article.html">
            <img src="Logo/Medium.png" style="position : absolute; width: 100%; right:2%;"></image>
            <h2 style="font-size:35px; max-width: 100%; position: absolute; top: -20px; left: 2.5%; width: 500px;">Le Premier Article !</h2>
        </a>
    </div>
</body>

<div>
    <input onkeyup="shearchArticle()" id="shearch" type="text" placeholder="Rechercher..." style="position: absolute; left: 37.5%;  float: none; display: block; text-align: center; width: 20%; height: 35px; margin: 0; padding: 14px;top: 1000px;border-radius: 15px; font-family:uni sans bold, sans-serif; font-size:35px; background: -webkit-linear-gradient(#5865F2, #a7aeff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(2px 2px 0.75rem rgba(0, 0, 0, 0.8));">
    <ul id="articleUL" style="position: absolute; top: 1100px; width: 80%; left: 10.5%;">
        <li><a href="article.html">Quadrinity ouvre ses portes.</a></li>
        <li><a href="article.html">Wumpus aime le chocolat.</a></li>
        <li><a href="article.html">Vive la vie.</a></li>
        <li><a href="article.html">C'est le nouvel an !</a></li>
    </ul>
</div>

<script>
    function shearchArticle() 
    {
        // Declare variables
        var input, filter, ul, li, a, i, txtValue;
        input = document.getElementById('shearch');
        filter = input.value.toUpperCase();
        ul = document.getElementById("articleUL");
        li = ul.getElementsByTagName('li');
        
        // Loop through all list items, and hide those who don't match the search query
        for (i = 0; i < li.length; i++) 
        {
            a = li[i].getElementsByTagName("a")[0];
            txtValue = a.textContent || a.innerText;
            if(txtValue.toUpperCase().indexOf(filter) > -1)
            {
                li[i].style.display = "";
            }else
            {
                li[i].style.display = "none";
            }
        }
    }
</script>

<body>
    <div id='menue'>
        <img src="Logo/DiscordLogo.png" id="logo">
        <button onclick=window.location.href="home.html" class="favorite styled" style="left:  2%;" type="button" id="goButton">Accueil</button>
        <button onclick=window.location.href="news.html" class="favorite styled" style="left:  22%;" type="button" id="goButton">News</button>
        <button class="favorite styled" style="left: 44%;" type="button" id="goButton">Wumpus</button>
        <button class="favorite styled" style="right:  22%;" type="button" id="goButton">Blog</button>
        <button class="favorite styled" style="right:  2%;" type="button" id="goButton">Blog</button>

        <button class="favorite connect" type="button" id="name-connect">Coconuts XXS</button>
        <button href="your-oauth2-URL-here" class="favorite connect" type="button" id="connect"></button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() 
        {
            const menu = document.getElementById("menue");
            const connect = document.getElementById("connect");
            const connectName = document.getElementById("name-connect");
            window.addEventListener("scroll", function() 
            {
                if (window.scrollY > 110) {
                    menu.style.position = "fixed";
                    menu.style.top = "-115px";
                    menu.style.width = "100%";
                } else {
                    menu.style.position = "absolute";
                    menu.style.top = "0px";
                }
            });
            connect.addEventListener("mouseleave", function()
            {
                connectName.style.width = "100px";
                connectName.style.fontSize = "0px";
            });
            connect.addEventListener("mouseenter", function()
            {
                connectName.style.width = "500px";
                connectName.style.fontSize = "35px";
            });

            const express = require('express');
            const { port } = require('./config.json');

            const app = express();

            app.get('/', (request, response) => 
            {
                return response.sendFile('home.html', { root: '.' });
            });

            app.listen(port, () => console.log(`App listening at http://localhost:${port}`));

            window.onload = () => 
            {
                const fragment = new URLSearchParams(window.location.hash.slice(1));
                const [accessToken, tokenType] = [fragment.get('access_token'), fragment.get('token_type')];

                if(!accessToken) {return (connectName.innerText = '???'); }

                fetch('https://discord.com/api/users/@me', 
                {
                    headers: {
                        authorization: `${tokenType} ${accessToken}`,
                    },
                })
                .then(result => result.json())
                .then(response => 
                {
                    const { username, discriminator } = response;
                    connectName.innerText += ` ${username}#${discriminator}`;
                })
                .catch(console.error);
            };
        });
    </script>
</body>
</html>